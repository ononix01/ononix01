{"ast":null,"code":"import React,{useState,useEffect}from'react';import{supabase}from'./supabaseClient';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function StaffShiftView(_ref){let{onBack}=_ref;const[selectedDate,setSelectedDate]=useState('');const[shiftData,setShiftData]=useState([]);const[loading,setLoading]=useState(false);const[userMap,setUserMap]=useState({});const[currentMonth,setCurrentMonth]=useState(new Date());const[availableDates,setAvailableDates]=useState([]);const[viewMode,setViewMode]=useState('list');const[currentView,setCurrentView]=useState('calendar');useEffect(()=>{fetchAvailableDates();fetchUsers();},[]);const fetchAvailableDates=async()=>{try{const{data:finalShifts,error}=await supabase.from('final_shifts').select('date').order('date');if(error){console.error('日付取得エラー:',error);return;}const uniqueDates=finalShifts?[...new Set(finalShifts.map(item=>item.date))].sort():[];setAvailableDates(uniqueDates);}catch(error){console.error('日付取得エラー:',error);}};const fetchUsers=async()=>{try{const{data:users,error}=await supabase.from('users').select('*');if(error){console.error('ユーザー取得エラー:',error);return;}const userMapTemp={};if(users&&users.length>0){users.forEach(user=>{const managerNumber=user.manager_number;if(managerNumber!==null&&managerNumber!==undefined){userMapTemp[String(managerNumber)]=user.name||\"\\u30E6\\u30FC\\u30B6\\u30FC\".concat(managerNumber);userMapTemp[Number(managerNumber)]=user.name||\"\\u30E6\\u30FC\\u30B6\\u30FC\".concat(managerNumber);}});}setUserMap(userMapTemp);}catch(error){console.error('予期しないエラー:',error);}};const fetchShiftData=async date=>{if(!date)return;setLoading(true);try{const{data:finalShifts,error:finalError}=await supabase.from('final_shifts').select('*').eq('date',date).order('manager_number');if(!finalError&&finalShifts&&finalShifts.length>0){setShiftData(finalShifts);}else{setShiftData([]);}setCurrentView('shift');}catch(error){console.error('シフトデータ取得エラー:',error);alert('エラーが発生しました');}finally{setLoading(false);}};const getUserName=managerNumber=>{if(!managerNumber&&managerNumber!==0)return'管理番号なし';const name=userMap[managerNumber]||userMap[String(managerNumber)]||userMap[Number(managerNumber)];if(name)return name;return\"\\u7BA1\\u7406\\u756A\\u53F7: \".concat(managerNumber);};const handleDateSelect=date=>{if(!availableDates.includes(date))return;setSelectedDate(date);fetchShiftData(date);};const handleBackToCalendar=()=>{setCurrentView('calendar');setSelectedDate('');setShiftData([]);};const changeDate=delta=>{if(!selectedDate||availableDates.length===0)return;const idx=availableDates.indexOf(selectedDate);const newIdx=idx+delta;if(newIdx>=0&&newIdx<availableDates.length){const newDate=availableDates[newIdx];setSelectedDate(newDate);fetchShiftData(newDate);}};const generateCalendarDays=()=>{const year=currentMonth.getFullYear();const month=currentMonth.getMonth();const firstDay=new Date(year,month,1);const startDate=new Date(firstDay);startDate.setDate(startDate.getDate()-firstDay.getDay());const days=[];const currentDate=new Date(startDate);for(let i=0;i<42;i++){const dateStr=currentDate.toISOString().split('T')[0];const isCurrentMonth=currentDate.getMonth()===month;const hasShift=availableDates.includes(dateStr);days.push({date:new Date(currentDate),dateStr:dateStr,day:currentDate.getDate(),isCurrentMonth,hasShift});currentDate.setDate(currentDate.getDate()+1);}return days;};const changeMonth=delta=>{const newMonth=new Date(currentMonth);newMonth.setMonth(newMonth.getMonth()+delta);setCurrentMonth(newMonth);};const formatTime=timeStr=>{if(!timeStr)return'';return timeStr.slice(0,5);};const getWeekday=dateStr=>{const days=['日','月','火','水','木','金','土'];const date=new Date(dateStr);return days[date.getDay()];};// 36時間表記対応：0:00～35:00まで1時間刻みで生成\nconst generateTimeSlots=()=>{const slots=[];for(let hour=0;hour<36;hour++){slots.push(\"\".concat(hour.toString().padStart(2,'0'),\":00\"));}return slots;};const timeToMinutes=timeStr=>{if(!timeStr)return 0;const[hours,minutes]=timeStr.split(':').map(Number);return hours*60+minutes;};const isWorkingAtTime=(shift,timeStr)=>{if(isOffDay(shift))return false;const startMinutes=timeToMinutes(shift.start_time);let endMinutes=timeToMinutes(shift.end_time);const checkMinutes=timeToMinutes(timeStr);// 翌日にまたがる場合の処理\nif(endMinutes<startMinutes){endMinutes+=24*60;}// チェック時刻も24時以降なら24*60を加算\nlet adjustedCheckMinutes=checkMinutes;if(checkMinutes<startMinutes&&endMinutes>=24*60){adjustedCheckMinutes+=24*60;}return adjustedCheckMinutes>=startMinutes&&adjustedCheckMinutes<endMinutes;};const isOffDay=shift=>{return shift.is_off===true||!shift.start_time||!shift.end_time||shift.start_time===''||shift.end_time===''||shift.start_time==='00:00'&&shift.end_time==='00:00';};const calendarDays=generateCalendarDays();const weekdays=['日','月','火','水','木','金','土'];const timeSlots=generateTimeSlots();const sortedShiftData=[...shiftData].sort((a,b)=>{const aOff=isOffDay(a)?1:0;const bOff=isOffDay(b)?1:0;return aOff-bOff;});if(currentView==='calendar'){return/*#__PURE__*/_jsx(\"div\",{className:\"login-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-card\",style:{width:'600px',maxWidth:'95vw',maxHeight:'90vh',overflowY:'auto'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u30B7\\u30D5\\u30C8\\u78BA\\u8A8D\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem',border:'1px solid #ddd',borderRadius:'8px',padding:'1rem',backgroundColor:'#f9f9f9'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>changeMonth(-1),style:{backgroundColor:'#607D8B',color:'white',border:'none',borderRadius:'4px',padding:'0.5rem',cursor:'pointer'},children:\"\\u25C0\"}),/*#__PURE__*/_jsxs(\"h3\",{style:{margin:0},children:[currentMonth.getFullYear(),\"\\u5E74 \",currentMonth.getMonth()+1,\"\\u6708\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>changeMonth(1),style:{backgroundColor:'#607D8B',color:'white',border:'none',borderRadius:'4px',padding:'0.5rem',cursor:'pointer'},children:\"\\u25B6\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(7, 1fr)',gap:'2px',marginBottom:'0.5rem'},children:weekdays.map(day=>/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',fontWeight:'bold',padding:'0.5rem',backgroundColor:'#e0e0e0'},children:day},day))}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(7, 1fr)',gap:'2px'},children:calendarDays.map((dayInfo,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>dayInfo.hasShift&&handleDateSelect(dayInfo.dateStr),disabled:!dayInfo.hasShift,style:{padding:'0.5rem',border:'none',borderRadius:'4px',cursor:dayInfo.hasShift?'pointer':'not-allowed',backgroundColor:dayInfo.hasShift?'#E3F2FD':dayInfo.isCurrentMonth?'white':'#f0f0f0',color:!dayInfo.hasShift?'#999':dayInfo.isCurrentMonth?'black':'#666',fontWeight:dayInfo.hasShift?'bold':'normal',opacity:dayInfo.isCurrentMonth?1:0.5,transition:'all 0.3s ease'},onMouseEnter:e=>{if(dayInfo.hasShift){e.target.style.backgroundColor='#BBDEFB';e.target.style.transform='scale(1.05)';}},onMouseLeave:e=>{if(dayInfo.hasShift){e.target.style.backgroundColor='#E3F2FD';e.target.style.transform='scale(1)';}},children:dayInfo.day},index))}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.5rem',fontSize:'0.8rem',color:'#666',textAlign:'center'},children:[\"\\u9752\\u8272: \\u30B7\\u30D5\\u30C8\\u3042\\u308A (\",availableDates.length,\"\\u65E5) | \\u7070\\u8272: \\u30B7\\u30D5\\u30C8\\u306A\\u3057\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'2rem',textAlign:'center'},children:/*#__PURE__*/_jsx(\"button\",{onClick:onBack,style:{backgroundColor:'#607D8B',color:'white',padding:'0.75rem 2rem',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'1rem'},children:\"\\u30E1\\u30CB\\u30E5\\u30FC\\u306B\\u623B\\u308B\"})})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"login-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-card\",style:{width:'900px',maxWidth:'95vw',maxHeight:'90vh',overflowY:'auto'},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{display:'flex',alignItems:'center',justifyContent:'center',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>changeDate(-1),children:\"\\u25C0\"}),selectedDate,\" (\",getWeekday(selectedDate),\") \\u306E\\u30B7\\u30D5\\u30C8\",/*#__PURE__*/_jsx(\"button\",{onClick:()=>changeDate(1),children:\"\\u25B6\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem',display:'flex',gap:'0.5rem',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('list'),style:{padding:'0.5rem 1rem',backgroundColor:viewMode==='list'?'#2196F3':'#f0f0f0',color:viewMode==='list'?'white':'black',border:'none',borderRadius:'4px',cursor:'pointer',transition:'all 0.3s ease'},children:\"\\u30EA\\u30B9\\u30C8\\u8868\\u793A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('timeline'),style:{padding:'0.5rem 1rem',backgroundColor:viewMode==='timeline'?'#2196F3':'#f0f0f0',color:viewMode==='timeline'?'white':'black',border:'none',borderRadius:'4px',cursor:'pointer',transition:'all 0.3s ease'},children:\"\\u30BF\\u30A4\\u30E0\\u30E9\\u30A4\\u30F3\\u8868\\u793A\"})]}),loading?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'2rem'},children:\"\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"}):sortedShiftData.length===0?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'2rem',color:'#666',backgroundColor:'#f9f9f9',borderRadius:'8px'},children:\"\\u3053\\u306E\\u65E5\\u306E\\u30B7\\u30D5\\u30C8\\u306F\\u3042\\u308A\\u307E\\u305B\\u3093\"}):viewMode==='list'?/*#__PURE__*/_jsx(\"div\",{style:{border:'1px solid #ddd',borderRadius:'8px',overflow:'hidden'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:'#f5f5f5'},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'left',borderBottom:'1px solid #ddd'},children:\"\\u540D\\u524D\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'center',borderBottom:'1px solid #ddd'},children:\"\\u5E97\\u8217\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'center',borderBottom:'1px solid #ddd'},children:\"\\u52E4\\u52D9\\u6642\\u9593\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'center',borderBottom:'1px solid #ddd'},children:\"\\u72B6\\u614B\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sortedShiftData.map((shift,index)=>/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:index%2===0?'white':'#f9f9f9'},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',borderBottom:'1px solid #eee'},children:/*#__PURE__*/_jsx(\"strong\",{children:getUserName(shift.manager_number)})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',textAlign:'center',borderBottom:'1px solid #eee',fontWeight:'bold',color:'#1976D2'},children:shift.store?\"\".concat(shift.store,\"\\u5E97\\u8217\"):'-'}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',textAlign:'center',borderBottom:'1px solid #eee'},children:isOffDay(shift)?/*#__PURE__*/_jsx(\"span\",{style:{color:'#999',fontStyle:'italic'},children:\"\\u4F11\\u307F\"}):/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:'bold'},children:[formatTime(shift.start_time),\" - \",formatTime(shift.end_time)]})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',textAlign:'center',borderBottom:'1px solid #eee'},children:/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.25rem 0.5rem',borderRadius:'12px',fontSize:'0.8rem',backgroundColor:isOffDay(shift)?'#f44336':'#4CAF50',color:'white'},children:isOffDay(shift)?'休み':'出勤'})})]},shift.manager_number||index))})]})}):/*#__PURE__*/_jsx(\"div\",{style:{border:'1px solid #ddd',borderRadius:'8px',overflow:'auto',maxHeight:'500px'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse',minWidth:'2000px'},children:[/*#__PURE__*/_jsx(\"thead\",{style:{position:'sticky',top:0,backgroundColor:'#f5f5f5',zIndex:2},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.5rem',textAlign:'left',borderBottom:'2px solid #999',borderRight:'2px solid #999',minWidth:'160px',backgroundColor:'#f5f5f5',position:'sticky',left:0,zIndex:3},children:\"\\u540D\\u524D\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.5rem',textAlign:'center',borderBottom:'2px solid #999',borderRight:'2px solid #999',minWidth:'80px',backgroundColor:'#f5f5f5',position:'sticky',left:'160px',zIndex:3},children:\"\\u5E97\\u8217\"}),timeSlots.map(timeSlot=>/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.25rem',textAlign:'center',borderBottom:'2px solid #999',borderRight:'1px solid #ccc',minWidth:'50px',fontSize:'0.75rem',fontWeight:'bold',backgroundColor:'#f5f5f5'},children:timeSlot},timeSlot))]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sortedShiftData.map((shift,index)=>/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:index%2===0?'white':'#f9f9f9'},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.5rem',fontWeight:'bold',borderBottom:'1px solid #ddd',borderRight:'2px solid #999',position:'sticky',left:0,backgroundColor:index%2===0?'white':'#f9f9f9',zIndex:1},children:getUserName(shift.manager_number)}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.5rem',textAlign:'center',borderBottom:'1px solid #ddd',borderRight:'2px solid #999',fontWeight:'bold',color:'#1976D2',position:'sticky',left:'160px',backgroundColor:index%2===0?'white':'#f9f9f9',zIndex:1},children:shift.store||'-'}),timeSlots.map(timeSlot=>{const isWorking=isWorkingAtTime(shift,timeSlot);return/*#__PURE__*/_jsx(\"td\",{style:{borderBottom:'1px solid #ddd',borderRight:'1px solid #ccc',textAlign:'center',backgroundColor:isWorking?'#4CAF50':index%2===0?'white':'#f9f9f9',transition:'all 0.3s ease',padding:'0.25rem',fontSize:'0.7rem'},children:isWorking?'●':''},timeSlot);})]},shift.manager_number||index))})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'1rem',textAlign:'center'},children:/*#__PURE__*/_jsx(\"button\",{onClick:handleBackToCalendar,style:{backgroundColor:'#607D8B',color:'white',padding:'0.75rem 2rem',border:'none',borderRadius:'4px',cursor:'pointer'},children:\"\\u30AB\\u30EC\\u30F3\\u30C0\\u30FC\\u306B\\u623B\\u308B\"})})]})});}export default StaffShiftView;","map":{"version":3,"names":["React","useState","useEffect","supabase","jsx","_jsx","jsxs","_jsxs","StaffShiftView","_ref","onBack","selectedDate","setSelectedDate","shiftData","setShiftData","loading","setLoading","userMap","setUserMap","currentMonth","setCurrentMonth","Date","availableDates","setAvailableDates","viewMode","setViewMode","currentView","setCurrentView","fetchAvailableDates","fetchUsers","data","finalShifts","error","from","select","order","console","uniqueDates","Set","map","item","date","sort","users","userMapTemp","length","forEach","user","managerNumber","manager_number","undefined","String","name","concat","Number","fetchShiftData","finalError","eq","alert","getUserName","handleDateSelect","includes","handleBackToCalendar","changeDate","delta","idx","indexOf","newIdx","newDate","generateCalendarDays","year","getFullYear","month","getMonth","firstDay","startDate","setDate","getDate","getDay","days","currentDate","i","dateStr","toISOString","split","isCurrentMonth","hasShift","push","day","changeMonth","newMonth","setMonth","formatTime","timeStr","slice","getWeekday","generateTimeSlots","slots","hour","toString","padStart","timeToMinutes","hours","minutes","isWorkingAtTime","shift","isOffDay","startMinutes","start_time","endMinutes","end_time","checkMinutes","adjustedCheckMinutes","is_off","calendarDays","weekdays","timeSlots","sortedShiftData","a","b","aOff","bOff","className","children","style","width","maxWidth","maxHeight","overflowY","marginTop","border","borderRadius","padding","backgroundColor","display","justifyContent","alignItems","marginBottom","onClick","color","cursor","margin","gridTemplateColumns","gap","textAlign","fontWeight","dayInfo","index","disabled","opacity","transition","onMouseEnter","e","target","transform","onMouseLeave","fontSize","overflow","borderCollapse","borderBottom","store","fontStyle","minWidth","position","top","zIndex","borderRight","left","timeSlot","isWorking"],"sources":["C:/Users/kouki/my-app/src/StaffShiftView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { supabase } from './supabaseClient';\r\n\r\nfunction StaffShiftView({ onBack }) {\r\n  const [selectedDate, setSelectedDate] = useState('');\r\n  const [shiftData, setShiftData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [userMap, setUserMap] = useState({});\r\n  const [currentMonth, setCurrentMonth] = useState(new Date());\r\n  const [availableDates, setAvailableDates] = useState([]);\r\n  const [viewMode, setViewMode] = useState('list');\r\n  const [currentView, setCurrentView] = useState('calendar');\r\n\r\n  useEffect(() => {\r\n    fetchAvailableDates();\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const fetchAvailableDates = async () => {\r\n    try {\r\n      const { data: finalShifts, error } = await supabase\r\n        .from('final_shifts')\r\n        .select('date')\r\n        .order('date');\r\n\r\n      if (error) {\r\n        console.error('日付取得エラー:', error);\r\n        return;\r\n      }\r\n\r\n      const uniqueDates = finalShifts ? [...new Set(finalShifts.map(item => item.date))].sort() : [];\r\n      setAvailableDates(uniqueDates);\r\n    } catch (error) {\r\n      console.error('日付取得エラー:', error);\r\n    }\r\n  };\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const { data: users, error } = await supabase\r\n        .from('users')\r\n        .select('*');\r\n\r\n      if (error) {\r\n        console.error('ユーザー取得エラー:', error);\r\n        return;\r\n      }\r\n\r\n      const userMapTemp = {};\r\n      if (users && users.length > 0) {\r\n        users.forEach(user => {\r\n          const managerNumber = user.manager_number;\r\n          if (managerNumber !== null && managerNumber !== undefined) {\r\n            userMapTemp[String(managerNumber)] = user.name || `ユーザー${managerNumber}`;\r\n            userMapTemp[Number(managerNumber)] = user.name || `ユーザー${managerNumber}`;\r\n          }\r\n        });\r\n      }\r\n      setUserMap(userMapTemp);\r\n    } catch (error) {\r\n      console.error('予期しないエラー:', error);\r\n    }\r\n  };\r\n\r\n  const fetchShiftData = async (date) => {\r\n    if (!date) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const { data: finalShifts, error: finalError } = await supabase\r\n        .from('final_shifts')\r\n        .select('*')\r\n        .eq('date', date)\r\n        .order('manager_number');\r\n\r\n      if (!finalError && finalShifts && finalShifts.length > 0) {\r\n        setShiftData(finalShifts);\r\n      } else {\r\n        setShiftData([]);\r\n      }\r\n\r\n      setCurrentView('shift');\r\n    } catch (error) {\r\n      console.error('シフトデータ取得エラー:', error);\r\n      alert('エラーが発生しました');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getUserName = (managerNumber) => {\r\n    if (!managerNumber && managerNumber !== 0) return '管理番号なし';\r\n    \r\n    const name = userMap[managerNumber] || \r\n                 userMap[String(managerNumber)] || \r\n                 userMap[Number(managerNumber)];\r\n    \r\n    if (name) return name;\r\n    \r\n    return `管理番号: ${managerNumber}`;\r\n  };\r\n\r\n  const handleDateSelect = (date) => {\r\n    if (!availableDates.includes(date)) return;\r\n    setSelectedDate(date);\r\n    fetchShiftData(date);\r\n  };\r\n\r\n  const handleBackToCalendar = () => {\r\n    setCurrentView('calendar');\r\n    setSelectedDate('');\r\n    setShiftData([]);\r\n  };\r\n\r\n  const changeDate = (delta) => {\r\n    if (!selectedDate || availableDates.length === 0) return;\r\n    const idx = availableDates.indexOf(selectedDate);\r\n    const newIdx = idx + delta;\r\n    if (newIdx >= 0 && newIdx < availableDates.length) {\r\n      const newDate = availableDates[newIdx];\r\n      setSelectedDate(newDate);\r\n      fetchShiftData(newDate);\r\n    }\r\n  };\r\n\r\n  const generateCalendarDays = () => {\r\n    const year = currentMonth.getFullYear();\r\n    const month = currentMonth.getMonth();\r\n\r\n    const firstDay = new Date(year, month, 1);\r\n    const startDate = new Date(firstDay);\r\n    startDate.setDate(startDate.getDate() - firstDay.getDay());\r\n\r\n    const days = [];\r\n    const currentDate = new Date(startDate);\r\n\r\n    for (let i = 0; i < 42; i++) {\r\n      const dateStr = currentDate.toISOString().split('T')[0];\r\n      const isCurrentMonth = currentDate.getMonth() === month;\r\n      const hasShift = availableDates.includes(dateStr);\r\n\r\n      days.push({\r\n        date: new Date(currentDate),\r\n        dateStr: dateStr,\r\n        day: currentDate.getDate(),\r\n        isCurrentMonth,\r\n        hasShift\r\n      });\r\n\r\n      currentDate.setDate(currentDate.getDate() + 1);\r\n    }\r\n\r\n    return days;\r\n  };\r\n\r\n  const changeMonth = (delta) => {\r\n    const newMonth = new Date(currentMonth);\r\n    newMonth.setMonth(newMonth.getMonth() + delta);\r\n    setCurrentMonth(newMonth);\r\n  };\r\n\r\n  const formatTime = (timeStr) => {\r\n    if (!timeStr) return '';\r\n    return timeStr.slice(0, 5);\r\n  };\r\n\r\n  const getWeekday = (dateStr) => {\r\n    const days = ['日', '月', '火', '水', '木', '金', '土'];\r\n    const date = new Date(dateStr);\r\n    return days[date.getDay()];\r\n  };\r\n\r\n  // 36時間表記対応：0:00～35:00まで1時間刻みで生成\r\n  const generateTimeSlots = () => {\r\n    const slots = [];\r\n    for (let hour = 0; hour < 36; hour++) {\r\n      slots.push(`${hour.toString().padStart(2, '0')}:00`);\r\n    }\r\n    return slots;\r\n  };\r\n\r\n  const timeToMinutes = (timeStr) => {\r\n    if (!timeStr) return 0;\r\n    const [hours, minutes] = timeStr.split(':').map(Number);\r\n    return hours * 60 + minutes;\r\n  };\r\n\r\n  const isWorkingAtTime = (shift, timeStr) => {\r\n    if (isOffDay(shift)) return false;\r\n\r\n    const startMinutes = timeToMinutes(shift.start_time);\r\n    let endMinutes = timeToMinutes(shift.end_time);\r\n    const checkMinutes = timeToMinutes(timeStr);\r\n\r\n    // 翌日にまたがる場合の処理\r\n    if (endMinutes < startMinutes) {\r\n      endMinutes += 24 * 60;\r\n    }\r\n\r\n    // チェック時刻も24時以降なら24*60を加算\r\n    let adjustedCheckMinutes = checkMinutes;\r\n    if (checkMinutes < startMinutes && endMinutes >= 24 * 60) {\r\n      adjustedCheckMinutes += 24 * 60;\r\n    }\r\n\r\n    return adjustedCheckMinutes >= startMinutes && adjustedCheckMinutes < endMinutes;\r\n  };\r\n\r\n  const isOffDay = (shift) => {\r\n    return shift.is_off === true ||\r\n           !shift.start_time ||\r\n           !shift.end_time ||\r\n           shift.start_time === '' ||\r\n           shift.end_time === '' ||\r\n           (shift.start_time === '00:00' && shift.end_time === '00:00');\r\n  };\r\n\r\n  const calendarDays = generateCalendarDays();\r\n  const weekdays = ['日', '月', '火', '水', '木', '金', '土'];\r\n  const timeSlots = generateTimeSlots();\r\n\r\n  const sortedShiftData = [...shiftData].sort((a, b) => {\r\n    const aOff = isOffDay(a) ? 1 : 0;\r\n    const bOff = isOffDay(b) ? 1 : 0;\r\n    return aOff - bOff;\r\n  });\r\n\r\n  if (currentView === 'calendar') {\r\n    return (\r\n      <div className=\"login-wrapper\">\r\n        <div className=\"login-card\" style={{ width: '600px', maxWidth: '95vw', maxHeight: '90vh', overflowY: 'auto' }}>\r\n          <h2>シフト確認</h2>\r\n\r\n          <div style={{\r\n            marginTop: '1rem',\r\n            border: '1px solid #ddd',\r\n            borderRadius: '8px',\r\n            padding: '1rem',\r\n            backgroundColor: '#f9f9f9'\r\n          }}>\r\n            <div style={{\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'center',\r\n              marginBottom: '1rem'\r\n            }}>\r\n              <button onClick={() => changeMonth(-1)} style={{\r\n                backgroundColor: '#607D8B',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '4px',\r\n                padding: '0.5rem',\r\n                cursor: 'pointer'\r\n              }}>\r\n                ◀\r\n              </button>\r\n              <h3 style={{ margin: 0 }}>\r\n                {currentMonth.getFullYear()}年 {currentMonth.getMonth() + 1}月\r\n              </h3>\r\n              <button onClick={() => changeMonth(1)} style={{\r\n                backgroundColor: '#607D8B',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '4px',\r\n                padding: '0.5rem',\r\n                cursor: 'pointer'\r\n              }}>\r\n                ▶\r\n              </button>\r\n            </div>\r\n\r\n            <div style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: 'repeat(7, 1fr)',\r\n              gap: '2px',\r\n              marginBottom: '0.5rem'\r\n            }}>\r\n              {weekdays.map(day => (\r\n                <div key={day} style={{\r\n                  textAlign: 'center',\r\n                  fontWeight: 'bold',\r\n                  padding: '0.5rem',\r\n                  backgroundColor: '#e0e0e0'\r\n                }}>\r\n                  {day}\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: 'repeat(7, 1fr)',\r\n              gap: '2px'\r\n            }}>\r\n              {calendarDays.map((dayInfo, index) => (\r\n                <button\r\n                  key={index}\r\n                  onClick={() => dayInfo.hasShift && handleDateSelect(dayInfo.dateStr)}\r\n                  disabled={!dayInfo.hasShift}\r\n                  style={{\r\n                    padding: '0.5rem',\r\n                    border: 'none',\r\n                    borderRadius: '4px',\r\n                    cursor: dayInfo.hasShift ? 'pointer' : 'not-allowed',\r\n                    backgroundColor: dayInfo.hasShift ? '#E3F2FD' :\r\n                                   dayInfo.isCurrentMonth ? 'white' : '#f0f0f0',\r\n                    color: !dayInfo.hasShift ? '#999' :\r\n                           dayInfo.isCurrentMonth ? 'black' : '#666',\r\n                    fontWeight: dayInfo.hasShift ? 'bold' : 'normal',\r\n                    opacity: dayInfo.isCurrentMonth ? 1 : 0.5,\r\n                    transition: 'all 0.3s ease'\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    if (dayInfo.hasShift) {\r\n                      e.target.style.backgroundColor = '#BBDEFB';\r\n                      e.target.style.transform = 'scale(1.05)';\r\n                    }\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    if (dayInfo.hasShift) {\r\n                      e.target.style.backgroundColor = '#E3F2FD';\r\n                      e.target.style.transform = 'scale(1)';\r\n                    }\r\n                  }}\r\n                >\r\n                  {dayInfo.day}\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            <div style={{\r\n              marginTop: '0.5rem',\r\n              fontSize: '0.8rem',\r\n              color: '#666',\r\n              textAlign: 'center'\r\n            }}>\r\n              青色: シフトあり ({availableDates.length}日) | 灰色: シフトなし\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{ marginTop: '2rem', textAlign: 'center' }}>\r\n            <button onClick={onBack} style={{\r\n              backgroundColor: '#607D8B',\r\n              color: 'white',\r\n              padding: '0.75rem 2rem',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: 'pointer',\r\n              fontSize: '1rem'\r\n            }}>\r\n              メニューに戻る\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"login-wrapper\">\r\n      <div className=\"login-card\" style={{ width: '900px', maxWidth: '95vw', maxHeight: '90vh', overflowY: 'auto' }}>\r\n        <h2 style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '1rem' }}>\r\n          <button onClick={() => changeDate(-1)}>◀</button>\r\n          {selectedDate} ({getWeekday(selectedDate)}) のシフト\r\n          <button onClick={() => changeDate(1)}>▶</button>\r\n        </h2>\r\n\r\n        <div style={{ marginBottom: '1rem', display: 'flex', gap: '0.5rem', justifyContent: 'center' }}>\r\n          <button\r\n            onClick={() => setViewMode('list')}\r\n            style={{\r\n              padding: '0.5rem 1rem',\r\n              backgroundColor: viewMode === 'list' ? '#2196F3' : '#f0f0f0',\r\n              color: viewMode === 'list' ? 'white' : 'black',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: 'pointer',\r\n              transition: 'all 0.3s ease'\r\n            }}\r\n          >\r\n            リスト表示\r\n          </button>\r\n          <button\r\n            onClick={() => setViewMode('timeline')}\r\n            style={{\r\n              padding: '0.5rem 1rem',\r\n              backgroundColor: viewMode === 'timeline' ? '#2196F3' : '#f0f0f0',\r\n              color: viewMode === 'timeline' ? 'white' : 'black',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: 'pointer',\r\n              transition: 'all 0.3s ease'\r\n            }}\r\n          >\r\n            タイムライン表示\r\n          </button>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div style={{ textAlign: 'center', padding: '2rem' }}>\r\n            読み込み中...\r\n          </div>\r\n        ) : sortedShiftData.length === 0 ? (\r\n          <div style={{\r\n            textAlign: 'center',\r\n            padding: '2rem',\r\n            color: '#666',\r\n            backgroundColor: '#f9f9f9',\r\n            borderRadius: '8px'\r\n          }}>\r\n            この日のシフトはありません\r\n          </div>\r\n        ) : viewMode === 'list' ? (\r\n          <div style={{\r\n            border: '1px solid #ddd',\r\n            borderRadius: '8px',\r\n            overflow: 'hidden'\r\n          }}>\r\n            <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n              <thead>\r\n                <tr style={{ backgroundColor: '#f5f5f5' }}>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'left', borderBottom: '1px solid #ddd' }}>\r\n                    名前\r\n                  </th>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'center', borderBottom: '1px solid #ddd' }}>\r\n                    店舗\r\n                  </th>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'center', borderBottom: '1px solid #ddd' }}>\r\n                    勤務時間\r\n                  </th>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'center', borderBottom: '1px solid #ddd' }}>\r\n                    状態\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {sortedShiftData.map((shift, index) => (\r\n                  <tr key={shift.manager_number || index} style={{\r\n                    backgroundColor: index % 2 === 0 ? 'white' : '#f9f9f9'\r\n                  }}>\r\n                    <td style={{ padding: '0.75rem', borderBottom: '1px solid #eee' }}>\r\n                      <strong>{getUserName(shift.manager_number)}</strong>\r\n                    </td>\r\n                    <td style={{\r\n                      padding: '0.75rem',\r\n                      textAlign: 'center',\r\n                      borderBottom: '1px solid #eee',\r\n                      fontWeight: 'bold',\r\n                      color: '#1976D2'\r\n                    }}>\r\n                      {shift.store ? `${shift.store}店舗` : '-'}\r\n                    </td>\r\n                    <td style={{\r\n                      padding: '0.75rem',\r\n                      textAlign: 'center',\r\n                      borderBottom: '1px solid #eee'\r\n                    }}>\r\n                      {isOffDay(shift) ? (\r\n                        <span style={{ color: '#999', fontStyle: 'italic' }}>休み</span>\r\n                      ) : (\r\n                        <span style={{ fontWeight: 'bold' }}>\r\n                          {formatTime(shift.start_time)} - {formatTime(shift.end_time)}\r\n                        </span>\r\n                      )}\r\n                    </td>\r\n                    <td style={{\r\n                      padding: '0.75rem',\r\n                      textAlign: 'center',\r\n                      borderBottom: '1px solid #eee'\r\n                    }}>\r\n                      <span style={{\r\n                        padding: '0.25rem 0.5rem',\r\n                        borderRadius: '12px',\r\n                        fontSize: '0.8rem',\r\n                        backgroundColor: isOffDay(shift) ? '#f44336' : '#4CAF50',\r\n                        color: 'white'\r\n                      }}>\r\n                        {isOffDay(shift) ? '休み' : '出勤'}\r\n                      </span>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <div style={{\r\n            border: '1px solid #ddd',\r\n            borderRadius: '8px',\r\n            overflow: 'auto',\r\n            maxHeight: '500px'\r\n          }}>\r\n            <table style={{ width: '100%', borderCollapse: 'collapse', minWidth: '2000px' }}>\r\n              <thead style={{ position: 'sticky', top: 0, backgroundColor: '#f5f5f5', zIndex: 2 }}>\r\n                <tr>\r\n                  <th style={{\r\n                    padding: '0.5rem',\r\n                    textAlign: 'left',\r\n                    borderBottom: '2px solid #999',\r\n                    borderRight: '2px solid #999',\r\n                    minWidth: '160px',\r\n                    backgroundColor: '#f5f5f5',\r\n                    position: 'sticky',\r\n                    left: 0,\r\n                    zIndex: 3\r\n                  }}>\r\n                    名前\r\n                  </th>\r\n                  <th style={{\r\n                    padding: '0.5rem',\r\n                    textAlign: 'center',\r\n                    borderBottom: '2px solid #999',\r\n                    borderRight: '2px solid #999',\r\n                    minWidth: '80px',\r\n                    backgroundColor: '#f5f5f5',\r\n                    position: 'sticky',\r\n                    left: '160px',\r\n                    zIndex: 3\r\n                  }}>\r\n                    店舗\r\n                  </th>\r\n                  {timeSlots.map((timeSlot) => (\r\n                    <th key={timeSlot} style={{\r\n                      padding: '0.25rem',\r\n                      textAlign: 'center',\r\n                      borderBottom: '2px solid #999',\r\n                      borderRight: '1px solid #ccc',\r\n                      minWidth: '50px',\r\n                      fontSize: '0.75rem',\r\n                      fontWeight: 'bold',\r\n                      backgroundColor: '#f5f5f5'\r\n                    }}>\r\n                      {timeSlot}\r\n                    </th>\r\n                  ))}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {sortedShiftData.map((shift, index) => (\r\n                  <tr key={shift.manager_number || index} style={{ backgroundColor: index % 2 === 0 ? 'white' : '#f9f9f9' }}>\r\n                    <td style={{ \r\n                      padding: '0.5rem', \r\n                      fontWeight: 'bold', \r\n                      borderBottom: '1px solid #ddd',\r\n                      borderRight: '2px solid #999',\r\n                      position: 'sticky',\r\n                      left: 0,\r\n                      backgroundColor: index % 2 === 0 ? 'white' : '#f9f9f9',\r\n                      zIndex: 1\r\n                    }}>\r\n                      {getUserName(shift.manager_number)}\r\n                    </td>\r\n                    <td style={{\r\n                      padding: '0.5rem',\r\n                      textAlign: 'center',\r\n                      borderBottom: '1px solid #ddd',\r\n                      borderRight: '2px solid #999',\r\n                      fontWeight: 'bold',\r\n                      color: '#1976D2',\r\n                      position: 'sticky',\r\n                      left: '160px',\r\n                      backgroundColor: index % 2 === 0 ? 'white' : '#f9f9f9',\r\n                      zIndex: 1\r\n                    }}>\r\n                      {shift.store || '-'}\r\n                    </td>\r\n                    {timeSlots.map((timeSlot) => {\r\n                      const isWorking = isWorkingAtTime(shift, timeSlot);\r\n                      return (\r\n                        <td key={timeSlot} style={{\r\n                          borderBottom: '1px solid #ddd',\r\n                          borderRight: '1px solid #ccc',\r\n                          textAlign: 'center',\r\n                          backgroundColor: isWorking ? '#4CAF50' : (index % 2 === 0 ? 'white' : '#f9f9f9'),\r\n                          transition: 'all 0.3s ease',\r\n                          padding: '0.25rem',\r\n                          fontSize: '0.7rem'\r\n                        }}>\r\n                          {isWorking ? '●' : ''}\r\n                        </td>\r\n                      );\r\n                    })}\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n\r\n        <div style={{ marginTop: '1rem', textAlign: 'center' }}>\r\n          <button onClick={handleBackToCalendar} style={{\r\n            backgroundColor: '#607D8B',\r\n            color: 'white',\r\n            padding: '0.75rem 2rem',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            cursor: 'pointer'\r\n          }}>\r\n            カレンダーに戻る\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StaffShiftView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}