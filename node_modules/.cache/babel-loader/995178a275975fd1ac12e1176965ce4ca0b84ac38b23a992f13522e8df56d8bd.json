{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kouki\\\\my-app\\\\src\\\\ClockInInput.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { supabase } from './supabaseClient';\n\n// 時刻を24時以降の形式で表示（例: 25:00, 26:30）\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatExtendedTime = (timeStr, workDate) => {\n  if (!timeStr || !workDate) return timeStr;\n  const [hours, minutes] = timeStr.split(':').map(Number);\n  const workDateObj = new Date(workDate);\n  const currentDate = new Date();\n\n  // 現在の日付と勤務日を比較\n  const daysDiff = Math.floor((currentDate - workDateObj) / (1000 * 60 * 60 * 24));\n\n  // 日をまたいでいる場合は時間に24を加算\n  if (daysDiff > 0 && hours < 12) {\n    // 深夜帯と判断（12時より前）\n    const extendedHours = hours + 24 * daysDiff;\n    return `${extendedHours}:${String(minutes).padStart(2, '0')}`;\n  }\n  return timeStr;\n};\n\n// 拡張時刻（25:00など）を通常の時刻に変換\nconst normalizeExtendedTime = extendedTimeStr => {\n  if (!extendedTimeStr) return '';\n  const [hours, minutes] = extendedTimeStr.split(':').map(Number);\n  const normalizedHours = hours % 24;\n  return `${String(normalizedHours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}`;\n};\nfunction ClockInInput({\n  onBack\n}) {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [password, setPassword] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const [mode, setMode] = useState('clockin'); // 'clockin' or 'clockout'\n  const [managerNumber, setManagerNumber] = useState('');\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState(''); // 'success' or 'error'\n  const [userMap, setUserMap] = useState({});\n  useEffect(() => {\n    if (isAuthenticated) {\n      fetchUsers();\n    }\n  }, [isAuthenticated]);\n  const fetchUsers = async () => {\n    try {\n      const {\n        data: users,\n        error\n      } = await supabase.from('users').select('*');\n      if (error) {\n        console.error('ユーザー取得エラー:', error);\n        return;\n      }\n      const userMapTemp = {};\n      if (users && users.length > 0) {\n        users.forEach(user => {\n          const mn = user.manager_number;\n          if (mn !== null && mn !== undefined) {\n            userMapTemp[String(mn)] = user.name || `ユーザー${mn}`;\n          }\n        });\n      }\n      setUserMap(userMapTemp);\n    } catch (error) {\n      console.error('予期しないエラー:', error);\n    }\n  };\n  const handlePasswordSubmit = () => {\n    if (password === '0306') {\n      setIsAuthenticated(true);\n      setPasswordError('');\n    } else {\n      setPasswordError('パスワードが違います');\n    }\n  };\n  const getCurrentTimeString = () => {\n    const now = new Date();\n    const hours = String(now.getHours()).padStart(2, '0');\n    const minutes = String(now.getMinutes()).padStart(2, '0');\n    return `${hours}:${minutes}`;\n  };\n  const getTodayDateString = () => {\n    const now = new Date();\n    const year = now.getFullYear();\n    const month = String(now.getMonth() + 1).padStart(2, '0');\n    const day = String(now.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  };\n  const handleSubmit = async () => {\n    if (!managerNumber.trim()) {\n      setMessage('管理番号を入力してください');\n      setMessageType('error');\n      return;\n    }\n\n    // 管理番号の存在確認\n    if (!userMap[String(managerNumber)]) {\n      setMessage('番号が間違っています');\n      setMessageType('error');\n      return;\n    }\n    const currentTime = getCurrentTimeString();\n    const todayDate = getTodayDateString();\n    try {\n      if (mode === 'clockin') {\n        // 出勤入力\n        // すでに同じ管理番号・日付のレコードがあるか確認\n        const {\n          data: existing,\n          error: fetchError\n        } = await supabase.from('attendance').select('*').eq('manager_number', managerNumber).eq('date', todayDate).single();\n        if (fetchError && fetchError.code !== 'PGRST116') {\n          console.error('既存データ確認エラー:', fetchError);\n          setMessage('エラーが発生しました');\n          setMessageType('error');\n          return;\n        }\n        if (existing) {\n          // 上書き\n          const {\n            error: updateError\n          } = await supabase.from('attendance').update({\n            actual_start: currentTime,\n            updated_at: new Date().toISOString()\n          }).eq('id', existing.id);\n          if (updateError) {\n            console.error('出勤更新エラー:', updateError);\n            setMessage('エラーが発生しました');\n            setMessageType('error');\n            return;\n          }\n        } else {\n          // 新規作成\n          const {\n            error: insertError\n          } = await supabase.from('attendance').insert([{\n            date: todayDate,\n            manager_number: managerNumber,\n            actual_start: currentTime,\n            actual_end: null,\n            break_minutes: 0,\n            work_minutes: 0,\n            store: ''\n          }]);\n          if (insertError) {\n            console.error('出勤登録エラー:', insertError);\n            setMessage('エラーが発生しました');\n            setMessageType('error');\n            return;\n          }\n        }\n        setMessage('出勤を記録しました');\n        setMessageType('success');\n      } else {\n        // 退勤入力\n        // 出勤記録を探す（今日または昨日）\n        const yesterday = new Date();\n        yesterday.setDate(yesterday.getDate() - 1);\n        const yesterdayDate = yesterday.toISOString().split('T')[0];\n        let clockInRecord = null;\n\n        // まず今日の出勤記録を確認\n        const {\n          data: todayRecord,\n          error: todayError\n        } = await supabase.from('attendance').select('*').eq('manager_number', managerNumber).eq('date', todayDate).single();\n        if (!todayError && todayRecord && todayRecord.actual_start) {\n          clockInRecord = todayRecord;\n        } else {\n          // 今日のレコードがなければ昨日を確認\n          const {\n            data: yesterdayRecord,\n            error: yesterdayError\n          } = await supabase.from('attendance').select('*').eq('manager_number', managerNumber).eq('date', yesterdayDate).single();\n          if (!yesterdayError && yesterdayRecord && yesterdayRecord.actual_start) {\n            clockInRecord = yesterdayRecord;\n          }\n        }\n        if (!clockInRecord) {\n          setMessage('出勤記録が見つかりません');\n          setMessageType('error');\n          return;\n        }\n\n        // 退勤時刻を更新\n        const {\n          error: updateError\n        } = await supabase.from('attendance').update({\n          actual_end: currentTime,\n          updated_at: new Date().toISOString()\n        }).eq('id', clockInRecord.id);\n        if (updateError) {\n          console.error('退勤更新エラー:', updateError);\n          setMessage('エラーが発生しました');\n          setMessageType('error');\n          return;\n        }\n        setMessage('退勤を記録しました');\n        setMessageType('success');\n      }\n\n      // 入力欄をクリア\n      setManagerNumber('');\n\n      // メッセージを3秒後に消す\n      setTimeout(() => {\n        setMessage('');\n        setMessageType('');\n      }, 3000);\n    } catch (error) {\n      console.error('送信エラー:', error);\n      setMessage('エラーが発生しました');\n      setMessageType('error');\n    }\n  };\n\n  // パスワード認証画面\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u9000\\u52E4\\u5165\\u529B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            marginBottom: '1rem',\n            color: '#666'\n          },\n          children: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          onKeyPress: e => {\n            if (e.key === 'Enter') {\n              handlePasswordSubmit();\n            }\n          },\n          style: {\n            width: '100%',\n            padding: '0.75rem',\n            fontSize: '1rem',\n            border: '2px solid #ddd',\n            borderRadius: '4px',\n            marginBottom: '1rem'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePasswordSubmit,\n          style: {\n            width: '100%',\n            padding: '0.75rem',\n            backgroundColor: '#2196F3',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '1rem',\n            fontWeight: 'bold',\n            cursor: 'pointer',\n            marginBottom: '0.5rem'\n          },\n          children: \"\\u8A8D\\u8A3C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), passwordError && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#F44336',\n            fontSize: '0.9rem',\n            marginTop: '0.5rem'\n          },\n          children: passwordError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onBack,\n          style: {\n            width: '100%',\n            padding: '0.75rem',\n            backgroundColor: '#607D8B',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '1rem',\n            cursor: 'pointer',\n            marginTop: '1rem'\n          },\n          children: \"\\u623B\\u308B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this);\n  }\n\n  // メイン入力画面\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-card\",\n      style: {\n        width: '500px',\n        maxWidth: '95vw'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u9000\\u52E4\\u5165\\u529B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '1rem',\n          marginBottom: '2rem',\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setMode('clockin'),\n          style: {\n            flex: 1,\n            padding: '1rem',\n            backgroundColor: mode === 'clockin' ? '#4CAF50' : '#E0E0E0',\n            color: mode === 'clockin' ? 'white' : '#999',\n            border: 'none',\n            borderRadius: '8px',\n            fontSize: '1.1rem',\n            fontWeight: 'bold',\n            cursor: 'pointer',\n            transition: 'all 0.3s ease'\n          },\n          children: \"\\u51FA\\u52E4\\u5165\\u529B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setMode('clockout'),\n          style: {\n            flex: 1,\n            padding: '1rem',\n            backgroundColor: mode === 'clockout' ? '#2196F3' : '#E0E0E0',\n            color: mode === 'clockout' ? 'white' : '#999',\n            border: 'none',\n            borderRadius: '8px',\n            fontSize: '1.1rem',\n            fontWeight: 'bold',\n            cursor: 'pointer',\n            transition: 'all 0.3s ease'\n          },\n          children: \"\\u9000\\u52E4\\u5165\\u529B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '1.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '0.5rem',\n            fontWeight: 'bold',\n            fontSize: '1rem'\n          },\n          children: \"\\u7BA1\\u7406\\u756A\\u53F7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: managerNumber,\n          onChange: e => setManagerNumber(e.target.value),\n          onKeyPress: e => {\n            if (e.key === 'Enter') {\n              handleSubmit();\n            }\n          },\n          placeholder: \"\\u7BA1\\u7406\\u756A\\u53F7\\u3092\\u5165\\u529B\",\n          style: {\n            width: '100%',\n            padding: '0.75rem',\n            fontSize: '1.2rem',\n            border: '2px solid #ddd',\n            borderRadius: '4px',\n            textAlign: 'center',\n            fontWeight: 'bold'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSubmit,\n        style: {\n          width: '100%',\n          padding: '1rem',\n          backgroundColor: mode === 'clockin' ? '#4CAF50' : '#2196F3',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          fontSize: '1.2rem',\n          fontWeight: 'bold',\n          cursor: 'pointer',\n          marginBottom: '1rem'\n        },\n        children: \"\\u9001\\u4FE1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1rem',\n          backgroundColor: messageType === 'success' ? '#E8F5E9' : '#FFEBEE',\n          color: messageType === 'success' ? '#2E7D32' : '#C62828',\n          borderRadius: '4px',\n          marginBottom: '1rem',\n          textAlign: 'center',\n          fontWeight: 'bold',\n          fontSize: '1.1rem'\n        },\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBack,\n        style: {\n          width: '100%',\n          padding: '0.75rem',\n          backgroundColor: '#607D8B',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          fontSize: '1rem',\n          cursor: 'pointer'\n        },\n        children: \"\\u30E1\\u30CB\\u30E5\\u30FC\\u306B\\u623B\\u308B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 320,\n    columnNumber: 5\n  }, this);\n}\n_s(ClockInInput, \"5d3Y1YrSqG3qeFvn/O2A8AexgpY=\");\n_c = ClockInInput;\nexport default ClockInInput;\nvar _c;\n$RefreshReg$(_c, \"ClockInInput\");","map":{"version":3,"names":["React","useState","useEffect","supabase","jsxDEV","_jsxDEV","formatExtendedTime","timeStr","workDate","hours","minutes","split","map","Number","workDateObj","Date","currentDate","daysDiff","Math","floor","extendedHours","String","padStart","normalizeExtendedTime","extendedTimeStr","normalizedHours","ClockInInput","onBack","_s","isAuthenticated","setIsAuthenticated","password","setPassword","passwordError","setPasswordError","mode","setMode","managerNumber","setManagerNumber","message","setMessage","messageType","setMessageType","userMap","setUserMap","fetchUsers","data","users","error","from","select","console","userMapTemp","length","forEach","user","mn","manager_number","undefined","name","handlePasswordSubmit","getCurrentTimeString","now","getHours","getMinutes","getTodayDateString","year","getFullYear","month","getMonth","day","getDate","handleSubmit","trim","currentTime","todayDate","existing","fetchError","eq","single","code","updateError","update","actual_start","updated_at","toISOString","id","insertError","insert","date","actual_end","break_minutes","work_minutes","store","yesterday","setDate","yesterdayDate","clockInRecord","todayRecord","todayError","yesterdayRecord","yesterdayError","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginBottom","color","type","placeholder","value","onChange","e","target","onKeyPress","key","width","padding","fontSize","border","borderRadius","onClick","backgroundColor","fontWeight","cursor","marginTop","maxWidth","display","gap","justifyContent","flex","transition","textAlign","_c","$RefreshReg$"],"sources":["C:/Users/kouki/my-app/src/ClockInInput.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { supabase } from './supabaseClient';\r\n\r\n// 時刻を24時以降の形式で表示（例: 25:00, 26:30）\r\nconst formatExtendedTime = (timeStr, workDate) => {\r\n  if (!timeStr || !workDate) return timeStr;\r\n  \r\n  const [hours, minutes] = timeStr.split(':').map(Number);\r\n  const workDateObj = new Date(workDate);\r\n  const currentDate = new Date();\r\n  \r\n  // 現在の日付と勤務日を比較\r\n  const daysDiff = Math.floor((currentDate - workDateObj) / (1000 * 60 * 60 * 24));\r\n  \r\n  // 日をまたいでいる場合は時間に24を加算\r\n  if (daysDiff > 0 && hours < 12) { // 深夜帯と判断（12時より前）\r\n    const extendedHours = hours + (24 * daysDiff);\r\n    return `${extendedHours}:${String(minutes).padStart(2, '0')}`;\r\n  }\r\n  \r\n  return timeStr;\r\n};\r\n\r\n// 拡張時刻（25:00など）を通常の時刻に変換\r\nconst normalizeExtendedTime = (extendedTimeStr) => {\r\n  if (!extendedTimeStr) return '';\r\n  \r\n  const [hours, minutes] = extendedTimeStr.split(':').map(Number);\r\n  const normalizedHours = hours % 24;\r\n  return `${String(normalizedHours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}`;\r\n};\r\n\r\nfunction ClockInInput({ onBack }) {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [password, setPassword] = useState('');\r\n  const [passwordError, setPasswordError] = useState('');\r\n  const [mode, setMode] = useState('clockin'); // 'clockin' or 'clockout'\r\n  const [managerNumber, setManagerNumber] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [messageType, setMessageType] = useState(''); // 'success' or 'error'\r\n  const [userMap, setUserMap] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      fetchUsers();\r\n    }\r\n  }, [isAuthenticated]);\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const { data: users, error } = await supabase\r\n        .from('users')\r\n        .select('*');\r\n\r\n      if (error) {\r\n        console.error('ユーザー取得エラー:', error);\r\n        return;\r\n      }\r\n\r\n      const userMapTemp = {};\r\n      if (users && users.length > 0) {\r\n        users.forEach(user => {\r\n          const mn = user.manager_number;\r\n          if (mn !== null && mn !== undefined) {\r\n            userMapTemp[String(mn)] = user.name || `ユーザー${mn}`;\r\n          }\r\n        });\r\n      }\r\n      setUserMap(userMapTemp);\r\n    } catch (error) {\r\n      console.error('予期しないエラー:', error);\r\n    }\r\n  };\r\n\r\n  const handlePasswordSubmit = () => {\r\n    if (password === '0306') {\r\n      setIsAuthenticated(true);\r\n      setPasswordError('');\r\n    } else {\r\n      setPasswordError('パスワードが違います');\r\n    }\r\n  };\r\n\r\n  const getCurrentTimeString = () => {\r\n    const now = new Date();\r\n    const hours = String(now.getHours()).padStart(2, '0');\r\n    const minutes = String(now.getMinutes()).padStart(2, '0');\r\n    return `${hours}:${minutes}`;\r\n  };\r\n\r\n  const getTodayDateString = () => {\r\n    const now = new Date();\r\n    const year = now.getFullYear();\r\n    const month = String(now.getMonth() + 1).padStart(2, '0');\r\n    const day = String(now.getDate()).padStart(2, '0');\r\n    return `${year}-${month}-${day}`;\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!managerNumber.trim()) {\r\n      setMessage('管理番号を入力してください');\r\n      setMessageType('error');\r\n      return;\r\n    }\r\n\r\n    // 管理番号の存在確認\r\n    if (!userMap[String(managerNumber)]) {\r\n      setMessage('番号が間違っています');\r\n      setMessageType('error');\r\n      return;\r\n    }\r\n\r\n    const currentTime = getCurrentTimeString();\r\n    const todayDate = getTodayDateString();\r\n\r\n    try {\r\n      if (mode === 'clockin') {\r\n        // 出勤入力\r\n        // すでに同じ管理番号・日付のレコードがあるか確認\r\n        const { data: existing, error: fetchError } = await supabase\r\n          .from('attendance')\r\n          .select('*')\r\n          .eq('manager_number', managerNumber)\r\n          .eq('date', todayDate)\r\n          .single();\r\n\r\n        if (fetchError && fetchError.code !== 'PGRST116') {\r\n          console.error('既存データ確認エラー:', fetchError);\r\n          setMessage('エラーが発生しました');\r\n          setMessageType('error');\r\n          return;\r\n        }\r\n\r\n        if (existing) {\r\n          // 上書き\r\n          const { error: updateError } = await supabase\r\n            .from('attendance')\r\n            .update({\r\n              actual_start: currentTime,\r\n              updated_at: new Date().toISOString()\r\n            })\r\n            .eq('id', existing.id);\r\n\r\n          if (updateError) {\r\n            console.error('出勤更新エラー:', updateError);\r\n            setMessage('エラーが発生しました');\r\n            setMessageType('error');\r\n            return;\r\n          }\r\n        } else {\r\n          // 新規作成\r\n          const { error: insertError } = await supabase\r\n            .from('attendance')\r\n            .insert([{\r\n              date: todayDate,\r\n              manager_number: managerNumber,\r\n              actual_start: currentTime,\r\n              actual_end: null,\r\n              break_minutes: 0,\r\n              work_minutes: 0,\r\n              store: ''\r\n            }]);\r\n\r\n          if (insertError) {\r\n            console.error('出勤登録エラー:', insertError);\r\n            setMessage('エラーが発生しました');\r\n            setMessageType('error');\r\n            return;\r\n          }\r\n        }\r\n\r\n        setMessage('出勤を記録しました');\r\n        setMessageType('success');\r\n      } else {\r\n        // 退勤入力\r\n        // 出勤記録を探す（今日または昨日）\r\n        const yesterday = new Date();\r\n        yesterday.setDate(yesterday.getDate() - 1);\r\n        const yesterdayDate = yesterday.toISOString().split('T')[0];\r\n\r\n        let clockInRecord = null;\r\n        \r\n        // まず今日の出勤記録を確認\r\n        const { data: todayRecord, error: todayError } = await supabase\r\n          .from('attendance')\r\n          .select('*')\r\n          .eq('manager_number', managerNumber)\r\n          .eq('date', todayDate)\r\n          .single();\r\n\r\n        if (!todayError && todayRecord && todayRecord.actual_start) {\r\n          clockInRecord = todayRecord;\r\n        } else {\r\n          // 今日のレコードがなければ昨日を確認\r\n          const { data: yesterdayRecord, error: yesterdayError } = await supabase\r\n            .from('attendance')\r\n            .select('*')\r\n            .eq('manager_number', managerNumber)\r\n            .eq('date', yesterdayDate)\r\n            .single();\r\n\r\n          if (!yesterdayError && yesterdayRecord && yesterdayRecord.actual_start) {\r\n            clockInRecord = yesterdayRecord;\r\n          }\r\n        }\r\n\r\n        if (!clockInRecord) {\r\n          setMessage('出勤記録が見つかりません');\r\n          setMessageType('error');\r\n          return;\r\n        }\r\n\r\n        // 退勤時刻を更新\r\n        const { error: updateError } = await supabase\r\n          .from('attendance')\r\n          .update({\r\n            actual_end: currentTime,\r\n            updated_at: new Date().toISOString()\r\n          })\r\n          .eq('id', clockInRecord.id);\r\n\r\n        if (updateError) {\r\n          console.error('退勤更新エラー:', updateError);\r\n          setMessage('エラーが発生しました');\r\n          setMessageType('error');\r\n          return;\r\n        }\r\n\r\n        setMessage('退勤を記録しました');\r\n        setMessageType('success');\r\n      }\r\n\r\n      // 入力欄をクリア\r\n      setManagerNumber('');\r\n      \r\n      // メッセージを3秒後に消す\r\n      setTimeout(() => {\r\n        setMessage('');\r\n        setMessageType('');\r\n      }, 3000);\r\n\r\n    } catch (error) {\r\n      console.error('送信エラー:', error);\r\n      setMessage('エラーが発生しました');\r\n      setMessageType('error');\r\n    }\r\n  };\r\n\r\n  // パスワード認証画面\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <div className=\"login-wrapper\">\r\n        <div className=\"login-card\">\r\n          <h2>退勤入力</h2>\r\n          <p style={{ marginBottom: '1rem', color: '#666' }}>パスワードを入力してください</p>\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"パスワード\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            onKeyPress={(e) => {\r\n              if (e.key === 'Enter') {\r\n                handlePasswordSubmit();\r\n              }\r\n            }}\r\n            style={{\r\n              width: '100%',\r\n              padding: '0.75rem',\r\n              fontSize: '1rem',\r\n              border: '2px solid #ddd',\r\n              borderRadius: '4px',\r\n              marginBottom: '1rem'\r\n            }}\r\n          />\r\n          <button\r\n            onClick={handlePasswordSubmit}\r\n            style={{\r\n              width: '100%',\r\n              padding: '0.75rem',\r\n              backgroundColor: '#2196F3',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              fontSize: '1rem',\r\n              fontWeight: 'bold',\r\n              cursor: 'pointer',\r\n              marginBottom: '0.5rem'\r\n            }}\r\n          >\r\n            認証\r\n          </button>\r\n          {passwordError && (\r\n            <p style={{ color: '#F44336', fontSize: '0.9rem', marginTop: '0.5rem' }}>\r\n              {passwordError}\r\n            </p>\r\n          )}\r\n          <button\r\n            onClick={onBack}\r\n            style={{\r\n              width: '100%',\r\n              padding: '0.75rem',\r\n              backgroundColor: '#607D8B',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              fontSize: '1rem',\r\n              cursor: 'pointer',\r\n              marginTop: '1rem'\r\n            }}\r\n          >\r\n            戻る\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // メイン入力画面\r\n  return (\r\n    <div className=\"login-wrapper\">\r\n      <div className=\"login-card\" style={{ width: '500px', maxWidth: '95vw' }}>\r\n        <h2>退勤入力</h2>\r\n\r\n        {/* モード選択ボタン */}\r\n        <div style={{\r\n          display: 'flex',\r\n          gap: '1rem',\r\n          marginBottom: '2rem',\r\n          justifyContent: 'center'\r\n        }}>\r\n          <button\r\n            onClick={() => setMode('clockin')}\r\n            style={{\r\n              flex: 1,\r\n              padding: '1rem',\r\n              backgroundColor: mode === 'clockin' ? '#4CAF50' : '#E0E0E0',\r\n              color: mode === 'clockin' ? 'white' : '#999',\r\n              border: 'none',\r\n              borderRadius: '8px',\r\n              fontSize: '1.1rem',\r\n              fontWeight: 'bold',\r\n              cursor: 'pointer',\r\n              transition: 'all 0.3s ease'\r\n            }}\r\n          >\r\n            出勤入力\r\n          </button>\r\n          <button\r\n            onClick={() => setMode('clockout')}\r\n            style={{\r\n              flex: 1,\r\n              padding: '1rem',\r\n              backgroundColor: mode === 'clockout' ? '#2196F3' : '#E0E0E0',\r\n              color: mode === 'clockout' ? 'white' : '#999',\r\n              border: 'none',\r\n              borderRadius: '8px',\r\n              fontSize: '1.1rem',\r\n              fontWeight: 'bold',\r\n              cursor: 'pointer',\r\n              transition: 'all 0.3s ease'\r\n            }}\r\n          >\r\n            退勤入力\r\n          </button>\r\n        </div>\r\n\r\n        {/* 管理番号入力 */}\r\n        <div style={{ marginBottom: '1.5rem' }}>\r\n          <label style={{\r\n            display: 'block',\r\n            marginBottom: '0.5rem',\r\n            fontWeight: 'bold',\r\n            fontSize: '1rem'\r\n          }}>\r\n            管理番号\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={managerNumber}\r\n            onChange={(e) => setManagerNumber(e.target.value)}\r\n            onKeyPress={(e) => {\r\n              if (e.key === 'Enter') {\r\n                handleSubmit();\r\n              }\r\n            }}\r\n            placeholder=\"管理番号を入力\"\r\n            style={{\r\n              width: '100%',\r\n              padding: '0.75rem',\r\n              fontSize: '1.2rem',\r\n              border: '2px solid #ddd',\r\n              borderRadius: '4px',\r\n              textAlign: 'center',\r\n              fontWeight: 'bold'\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        {/* 送信ボタン */}\r\n        <button\r\n          onClick={handleSubmit}\r\n          style={{\r\n            width: '100%',\r\n            padding: '1rem',\r\n            backgroundColor: mode === 'clockin' ? '#4CAF50' : '#2196F3',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            fontSize: '1.2rem',\r\n            fontWeight: 'bold',\r\n            cursor: 'pointer',\r\n            marginBottom: '1rem'\r\n          }}\r\n        >\r\n          送信\r\n        </button>\r\n\r\n        {/* メッセージ表示 */}\r\n        {message && (\r\n          <div style={{\r\n            padding: '1rem',\r\n            backgroundColor: messageType === 'success' ? '#E8F5E9' : '#FFEBEE',\r\n            color: messageType === 'success' ? '#2E7D32' : '#C62828',\r\n            borderRadius: '4px',\r\n            marginBottom: '1rem',\r\n            textAlign: 'center',\r\n            fontWeight: 'bold',\r\n            fontSize: '1.1rem'\r\n          }}>\r\n            {message}\r\n          </div>\r\n        )}\r\n\r\n        {/* 戻るボタン */}\r\n        <button\r\n          onClick={onBack}\r\n          style={{\r\n            width: '100%',\r\n            padding: '0.75rem',\r\n            backgroundColor: '#607D8B',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            fontSize: '1rem',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          メニューに戻る\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ClockInInput;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}